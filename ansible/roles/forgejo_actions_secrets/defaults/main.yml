---
# Forgejo Actions Secrets role configuration
#
# This role syncs repository-level Actions secrets from 1Password to Forgejo
# via the Forgejo API.

forgejo_actions_secrets_api_url: "https://forge.ops.eblu.me/api/v1"
forgejo_actions_secrets_owner: eblume

# Secrets to sync per repo.
# Each entry: {repo: "name", secrets: [{name: "SECRET_NAME", value_var: "ansible_fact_name"}]}
forgejo_actions_secrets_repos:
  - repo: blumeops
    secrets:
      - name: ARGOCD_AUTH_TOKEN
        value_var: forgejo_secret_argocd_token
      - name: FLY_DEPLOY_TOKEN
        value_var: forgejo_secret_fly_deploy_token
  - repo: cv
    secrets:
      - name: FORGE_TOKEN
        value_var: forgejo_api_token
